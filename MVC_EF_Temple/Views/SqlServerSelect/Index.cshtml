@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<style>
    .datagrid-pager table {
     width:30%!important;
     margin-left:500px!important;
    }
    .pagination .pagination-num {
    height: 18px!important;
    }

</style>
<table id="dg" class="easyui-datagrid" title="数据库表查询" style="height:850px"> </table>
<script type="text/javascript">
    $(function () {
        $(window).resize(function () {
            $('#dg').datagrid('resize', {               //根据自身情况更改
                width: $(window).width() - 300,    //根据自身情况更改
                height: $(window).height() - 150  //根据自身情况更改
            }).datagrid('resize', {
                width: $(window).width() - 300,      //根据自身情况更改
                height: $(window).height() - 150   //根据自身情况更改
            });
        });

    });

    function JsonDateFormate(val) {

        if (val != null) {
            var date = new Date(parseInt(val.replace("/Date(", "").replace(")/", ""), 10));
            //月份为0-11，所以+1，月份小于10时补个0
            var month = date.getMonth() + 1 < 10 ? "0" + (date.getMonth() + 1) : date.getMonth() + 1;
            var currentDate = date.getDate() < 10 ? "0" + date.getDate() : date.getDate();
            return date.getFullYear() + "-" + month + "-" + currentDate;
        }

        return "";
    }
    /**
     * easyui Datagrid百分比显示宽度
     */
    function fixWidth(percent) {
        return document.body.clientWidth * percent;//根据自身情况更改
    }

    $(document).ready(function () {
        $("#dg").datagrid({
            url: '/SqlServerSelect/GetList',
            pagination: true,//分页控件
            pageList: [10, 20, 30, 40, 50],
           // fit: true,   //自适应大小
            idField: 'TableID', //标识列，一般设为id，可能会区分大小写，大家注意一下
            fitColumns: true, //设置为true将自动使列适应表格宽度以防止出现水平滚动,false则自动匹配大小
            striped: true, //奇偶行是否区分
            singleSelect: true,//单选模式
            sortName: "TableID", //初始化表格时依据的排序 字段 必须和数据库中的字段名称相同
            sortOrder: "asc", //正序
            nowrap: false,//允许换行
            emptyMsg: '<span>无记录</span>',
            rownumbers: false,
            columns: [[
                { field: 'TableID', title: 'ID', hidden: true },
                { field: 'TableName', title: '表名', width: fixWidth(0.2) }, //, width: fixWidth(0.2)
                { field: 'CreateDate', title: '创建时间', width: fixWidth(0.2), align: 'center', formatter: JsonDateFormate },
                { field: 'ModifyDate', title: '修改时间', width: fixWidth(0.2), align: 'center', formatter: JsonDateFormate },
                { field: 'Comment', title: '表描述', width: fixWidth(0.2) },
                { field: 'FieldCount', title: '表数量', width: fixWidth(0.2) }
            ]]
        });
    });
</script>